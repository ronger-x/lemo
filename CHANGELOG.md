# 更新日志 (Changelog)

## [v0.2.1] - 2025-11-06

### 🐛 Bug 修复

#### 网络接口排序问题
- ✅ **修复网络接口顺序随机变动**
  - 现在按字母顺序固定排列
  - 更易于观察特定网络接口
  - 显示数量从 3 个增加到 5 个

#### GPU 识别问题
- ✅ **支持 Intel 核显识别**
  - 新增 Intel HD/UHD/Iris Graphics 检测
  - 新增 NVIDIA GeForce/GTX/RTX 检测
  - 新增 AMD Radeon/RX 检测
  - 显示完整 GPU 名称 + 温度
  - 自动去除名称中的 "temp" 后缀

### 🔧 改进优化

#### 布局比例调整
- ✅ **重新分配空间比例**
  - 左侧：CPU (20%) + 内存 (10%) + 磁盘 (70%)
  - 右侧：系统信息 (30%) + GPU (20%) + 网络 (50%)
  - 磁盘空间增加 75%（40%→70%）
  - 网络空间增加 47%（34%→50%）

#### 显示优化
- ✅ 温度传感器最多显示 4 个（从 3 个增加）
- ✅ 网络接口名称截断长度优化（17→22字符）
- ✅ GPU 名称截断长度优化（支持最长 22 字符）
- ✅ 系统信息移到右侧顶部，更醒目

### 📊 技术改进

- 网络接口使用 `Vec::sort_by` 按名称排序
- GPU 检测关键词扩展到 10+ 种模式
- 优化布局 Constraints 百分比分配
- 改进传感器过滤逻辑

---

## [v0.2.0] - 2025-11-06

### 🎉 新增功能

#### 实时系统监控增强
- ✅ **网络流量监控**
  - 显示所有活跃网络接口（最多3个）
  - 上传/下载流量统计（MB）
  - 彩色标识（绿色下载 / 蓝色上传）
  - 自动过滤无流量接口
  
- ✅ **GPU 温度显示**
  - 自动检测显卡温度传感器
  - 独立显示 GPU 温度
  - 与其他硬件温度分开显示
  - 彩色温度警告（绿色/黄色/红色）

### 🔧 改进优化

#### 磁盘显示优化
- ✅ **按盘符排序**
  - 磁盘现在按字母顺序排列（C:\、D:\、E:\ 等）
  - 更符合用户习惯
  - 便于快速定位目标磁盘

#### UI 布局调整
- ✅ **2x3 Grid 布局**
  - 左侧：CPU → 内存 → 网络（三层）
  - 右侧：磁盘 → GPU/温度 → 系统信息（三层）
  - 更均衡的信息分布
  - 所有信息一屏显示

#### 温度监控改进
- ✅ **智能传感器选择**
  - 优先显示 GPU、CPU、主板温度
  - 最多显示 3 个主要传感器
  - 自动截断过长的传感器名称
  - 更清晰的信息展示

### 📊 技术改进

- 使用 `sysinfo::Networks` 获取网络统计
- 磁盘排序使用 `Vec::sort_by` 按挂载点排序
- GPU 检测通过传感器标签模糊匹配
- 优化了各区域的空间分配比例

### 📚 文档更新

- ✅ 更新 `REALTIME_MONITOR.md` - 添加网络和GPU说明
- ✅ 更新 `README.md` - 更新功能列表
- ✅ 更新 `QUICKSTART.md` - 更新界面预览
- ✅ 创建 `CHANGELOG.md` - 版本更新记录

---

## [v0.1.0] - 2025-11-06

### 🎉 初始发布

#### 核心功能
- ✅ **TUI 交互式界面**
  - 主菜单导航
  - 键盘快捷键支持（↑/↓/j/k）
  - 可滚动输出查看器

- ✅ **实时系统监控**
  - CPU 使用率（实时进度条）
  - 内存使用率（实时进度条）
  - 磁盘使用情况（ASCII 进度条）
  - 硬件温度监控
  - 系统基本信息
  - 每 1 秒自动刷新

- ✅ **系统维护工具**
  - 修复 Windows 图标缓存
  - 深度清理临时文件
  - 系统信息查看

#### 临时文件清理
- ✅ **深度递归扫描**
  - 智能深度限制（最多 5 层）
  - 系统目录保护
  - 实时进度反馈
  - 清理 7 种临时文件类型

- ✅ **支持的清理目录**
  - `C:\Windows\Temp`
  - `C:\Windows\Prefetch`
  - 系统驱动器递归扫描
  - 用户临时目录（可选）

#### 图标缓存修复
- ✅ 清理 IconCache.db
- ✅ 清理所有 iconcache_*.db
- ✅ 自动重启 Windows Explorer
- ✅ 管理员权限检测

#### 系统信息
- ✅ 操作系统和架构
- ✅ CPU 信息（型号、核心数、频率、使用率）
- ✅ 内存信息（总量、已用、可用）
- ✅ 磁盘信息（所有驱动器）
- ✅ 系统运行时间

### 🛠️ 技术栈

- **Rust 2021 Edition**
- **ratatui 0.29** - TUI 框架
- **crossterm 0.28** - 终端控制
- **sysinfo 0.32** - 系统信息采集
- **clap 4.5.51** - CLI 参数解析
- **winapi 0.3.9** - Windows API
- **anyhow 1.0** - 错误处理
- **chrono 0.4** - 时间处理

### 📚 文档

- ✅ `README.md` - 完整功能说明
- ✅ `REALTIME_MONITOR.md` - 实时监控详细文档
- ✅ `QUICKSTART.md` - 快速开始指南
- ✅ `OPTIMIZATION_DONE.md` - 优化技术文档

---

## 版本规范

遵循 [语义化版本 2.0.0](https://semver.org/lang/zh-CN/)：

- **主版本号（Major）**：不兼容的 API 修改
- **次版本号（Minor）**：向下兼容的功能性新增
- **修订号（Patch）**：向下兼容的问题修正

---

**感谢使用 Lemo！** 🍋
